#!/usr/bin/env python3
# SPDX-FileCopyrightText: 2025 Ayumu Saito
# SPDX-License-Identifier: GPL-3.0-only

import sys
def to_float(s: str) -> float:
    try: return float(s)
    except Exception: raise ValueError
def main(argv)->int:
    if len(argv)>=2:
        try:
            win=int(argv[1])
            if win<=0: raise ValueError
        except Exception:
            sys.stderr.write("window must be a positive integer\n"); return 1
    else:
        win=3
    lines=sys.stdin.read().splitlines()
    if not lines: sys.stderr.write("no input\n"); return 1
    vals=[]
    for i,raw in enumerate(lines,1):
        s=raw.strip()
        if s=="": sys.stderr.write(f"empty line at {i}\n"); return 1
        try: vals.append(to_float(s))
        except ValueError: sys.stderr.write(f"non-numeric at line {i}\n"); return 1
    if len(vals)<win: return 0
    window=sum(vals[:win]); out=[window/win]
    for i in range(win,len(vals)):
        window+=vals[i]-vals[i-win]; out.append(window/win)
    for v in out: print(f"{v:.1f}")
    return 0
if __name__=="__main__": raise SystemExit(main(sys.argv))
PY
